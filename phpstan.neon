includes:
    - vendor/larastan/larastan/extension.neon
    - vendor/nesbot/carbon/extension.neon

parameters:
    paths:
        - app
        - bootstrap/app.php
        - config
        - database
        - routes

    # Level 5 para evitar erros de tipos genéricos muito rigorosos
    level: 5

    tmpDir: /tmp/phpstan

    # Excluir arquivos problemáticos
    excludePaths:
        - app/Http/Middleware/*

    # Ignorar erros comuns do Eloquent e Laravel
    ignoreErrors:
        # Métodos do Faker que são válidos mas o PHPStan não reconhece
        - '#Call to an undefined method Faker\\Generator::(secondaryAddress|stateAbbr)\(\)#'

        # Propriedades dinâmicas do Eloquent (acessadas via __get)
        - '#Access to an undefined property App\\Models\\[A-Za-z]+::\$[a-z_]+#'

        # Return types que funcionam em runtime mas PHPStan não entende
        - '#should return .* but returns#'
        - '#Access to an undefined property Illuminate\\Database\\Eloquent\\Relations\\Pivot::#'

        # Comentários em ForeignKey que funcionam no MySQL
        - '#Call to an undefined method Illuminate\\Database\\Schema\\ForeignKeyDefinition::comment\(\)#'
